import*as e from"react";import n,{localeOption as t,PrimeReactContext as i}from"primereact/api";import{ComponentBase as a,useHandleStyle as r}from"primereact/componentbase";import{CSSTransition as l}from"primereact/csstransition";import{useMountEffect as o,usePrevious as c,useResizeListener as u,useUpdateEffect as s,useInterval as m,useUnmountEffect as p}from"primereact/hooks";import{TimesIcon as d}from"primereact/icons/times";import{Portal as f}from"primereact/portal";import{Ripple as h}from"primereact/ripple";import{classNames as b,mergeProps as v,IconUtils as g,DomHandler as I,UniqueComponentId as x,ObjectUtils as y,ZIndexUtils as w}from"primereact/utils";import{ChevronLeftIcon as S}from"primereact/icons/chevronleft";import{ChevronRightIcon as O}from"primereact/icons/chevronright";import{ChevronDownIcon as E}from"primereact/icons/chevrondown";import{ChevronUpIcon as N}from"primereact/icons/chevronup";function P(){return P=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},P.apply(this,arguments)}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function T(e,n){if("object"!==C(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!==C(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function j(e){var n=T(e,"string");return"symbol"===C(n)?n:String(n)}function k(e,n,t){return(n=j(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function A(e){if(Array.isArray(e))return e}function D(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,a,r,l,o=[],c=!0,u=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=r.call(t)).done)&&(o.push(i.value),o.length!==n);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function V(e,n){if(e){if("string"==typeof e)return R(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,n):void 0}}function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e,n){return A(e)||D(e,n)||V(e,n)||B()}var U=a.extend({defaultProps:{__TYPE:"Galleria",id:null,value:null,activeIndex:0,fullScreen:!1,item:null,thumbnail:null,indicator:null,caption:null,className:null,closeIcon:null,style:null,header:null,footer:null,numVisible:3,responsiveOptions:null,showItemNavigators:!1,showThumbnailNavigators:!0,showItemNavigatorsOnHover:!1,changeItemOnIndicatorHover:!1,circular:!1,autoPlay:!1,transitionInterval:4e3,showThumbnails:!0,itemNextIcon:null,itemPrevIcon:null,nextThumbnailIcon:null,prevThumbnailIcon:null,thumbnailsPosition:"bottom",verticalThumbnailViewPortHeight:"300px",showIndicators:!1,showIndicatorsOnItem:!1,indicatorsPosition:"bottom",baseZIndex:0,transitionOptions:null,onItemChange:null,children:void 0},css:{classes:{header:"p-galleria-header",footer:"p-galleria-footer",closeIcon:"p-galleria-close-icon",closeButton:"p-galleria-close p-link",root:function(e){var t=e.props,i=e.context;return b("p-galleria p-component",{"p-galleria-fullscreen":t.fullScreen,"p-galleria-indicator-onitem":t.showIndicatorsOnItem,"p-galleria-item-nav-onhover":t.showItemNavigatorsOnHover&&!t.fullScreen,"p-input-filled":i&&"filled"===i.inputStyle||"filled"===n.inputStyle,"p-ripple-disabled":i&&!1===i.ripple||!1===n.ripple},e.thumbnailsPosClassName,e.indicatorPosClassName)},content:"p-galleria-content",mask:function(e){return b("p-galleria-mask",{"p-galleria-visible":e.visibleState})},thumbnailItem:function(e){var n=e.subProps;return b("p-galleria-thumbnail-item",{"p-galleria-thumbnail-item-current":n.current,"p-galleria-thumbnail-item-active":n.active,"p-galleria-thumbnail-item-start":n.start,"p-galleria-thumbnail-item-end":n.end})},thumbnailItemContent:"p-galleria-thumbnail-item-content",previousThumbnailIcon:"p-galleria-thumbnail-prev-icon",previousThumbnailButton:function(e){return b("p-galleria-thumbnail-prev p-link",{"p-disabled":e.isDisabled})},nextThumbnailIcon:"p-galleria-thumbnail-next-icon",nextThumbnailButton:function(e){return b("p-galleria-thumbnail-next p-link",{"p-disabled":e.isDisabled})},thumbnailContainer:"p-galleria-thumbnail-container",thumbnailItemsContainer:"p-galleria-thumbnail-items-container",thumbnailItems:"p-galleria-thumbnail-items",thumbnailWrapper:"p-galleria-thumbnail-wrapper",previousItemIcon:"p-galleria-item-prev-icon",previousItemButton:function(e){return b("p-galleria-item-prev p-galleria-item-nav p-link",{"p-disabled":e.isDisabled})},nextItemIcon:"p-galleria-item-next-icon",nextItemButton:function(e){return b("p-galleria-item-next p-galleria-item-nav p-link",{"p-disabled":e.isDisabled})},caption:"p-galleria-caption",indicator:function(e){return b("p-galleria-indicator",{"p-highlight":e.isActive})},indicators:"p-galleria-indicators p-reset",itemWrapper:"p-galleria-item-wrapper",itemContainer:"p-galleria-item-container",item:"p-galleria-item",transition:"p-galleria"},styles:"\n@layer primereact {\n    .p-galleria-content {\n        display: flex;\n        flex-direction: column;\n    }\n    \n    .p-galleria-item-wrapper {\n        display: flex;\n        flex-direction: column;\n        position: relative;\n    }\n    \n    .p-galleria-item-container {\n        position: relative;\n        display: flex;\n        height: 100%;\n    }\n    \n    .p-galleria-item-nav {\n        position: absolute;\n        top: 50%;\n        margin-top: -.5rem;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n    }\n    \n    .p-galleria-item-prev {\n        left: 0;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n    }\n    \n    .p-galleria-item-next {\n        right: 0;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n    \n    .p-galleria-item {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100%;\n        width: 100%;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-nav {\n        pointer-events: none;\n        opacity: 0;\n        transition: opacity .2s ease-in-out;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav {\n        pointer-events: all;\n        opacity: 1;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav.p-disabled {\n        pointer-events: none;\n    }\n    \n    .p-galleria-caption {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n    }\n    \n    /* Thumbnails */\n    .p-galleria-thumbnail-wrapper {\n        display: flex;\n        flex-direction: column;\n        overflow: auto;\n        flex-shrink: 0;\n    }\n    \n    .p-galleria-thumbnail-prev,\n    .p-galleria-thumbnail-next {\n        align-self: center;\n        flex: 0 0 auto;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n        position: relative;\n    }\n    \n    .p-galleria-thumbnail-prev span,\n    .p-galleria-thumbnail-next span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    \n    .p-galleria-thumbnail-container {\n        display: flex;\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnail-items-container {\n        overflow: hidden;\n        width: 100%;\n    }\n    \n    .p-galleria-thumbnail-items {\n        display: flex;\n    }\n    \n    .p-galleria-thumbnail-item {\n        overflow: auto;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        opacity: .5;\n    }\n    \n    .p-galleria-thumbnail-item:hover {\n        opacity: 1;\n        transition: opacity .3s;\n    }\n    \n    .p-galleria-thumbnail-item-current {\n        opacity: 1;\n    }\n    \n    /* Positions */\n    /* Thumbnails */\n    .p-galleria-thumbnails-left .p-galleria-content,\n    .p-galleria-thumbnails-right .p-galleria-content {\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-item-wrapper,\n    .p-galleria-thumbnails-right .p-galleria-item-wrapper {\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-item-wrapper,\n    .p-galleria-thumbnails-top .p-galleria-item-wrapper {\n        order: 2;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-wrapper,\n    .p-galleria-thumbnails-top .p-galleria-thumbnail-wrapper {\n        order: 1;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-container,\n    .p-galleria-thumbnails-right .p-galleria-thumbnail-container {\n        flex-direction: column;\n        flex-grow: 1;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-items,\n    .p-galleria-thumbnails-right .p-galleria-thumbnail-items {\n        flex-direction: column;\n        height: 100%;\n    }\n    \n    /* Indicators */\n    .p-galleria-indicators {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    .p-galleria-indicator > button {\n        display: inline-flex;\n        align-items: center;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-item-wrapper,\n    .p-galleria-indicators-right .p-galleria-item-wrapper {\n        flex-direction: row;\n        align-items: center;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-item-container,\n    .p-galleria-indicators-top .p-galleria-item-container {\n        order: 2;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-indicators,\n    .p-galleria-indicators-top .p-galleria-indicators {\n        order: 1;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-indicators,\n    .p-galleria-indicators-right .p-galleria-indicators {\n        flex-direction: column;\n    }\n    \n    .p-galleria-indicator-onitem .p-galleria-indicators {\n        position: absolute;\n        display: flex;\n        z-index: 1;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-top .p-galleria-indicators {\n        top: 0;\n        left: 0;\n        width: 100%;\n        align-items: flex-start;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-right .p-galleria-indicators {\n        right: 0;\n        top: 0;\n        height: 100%;\n        align-items: flex-end;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-bottom .p-galleria-indicators {\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        align-items: flex-end;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-left .p-galleria-indicators {\n        left: 0;\n        top: 0;\n        height: 100%;\n        align-items: flex-start;\n    }\n    \n    /* FullScreen */\n    .p-galleria-mask {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        pointer-events: none;\n    }\n    \n    .p-galleria-mask.p-component-overlay {\n        pointer-events: auto;\n    }\n    \n    .p-galleria-close {\n        position: absolute;\n        top: 0;\n        right: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n    }\n    \n    .p-galleria-mask .p-galleria-item-nav {\n        position: fixed;\n        top: 50%;\n        margin-top: -.5rem;\n    }\n    \n    /* Animation */\n    .p-galleria-enter {\n        opacity: 0;\n        transform: scale(0.7);\n    }\n    \n    .p-galleria-enter-active {\n        opacity: 1;\n        transform: scale(1);\n        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n    }\n    \n    .p-galleria-enter-done {\n        transform: none;\n    }\n    \n    .p-galleria-exit {\n        opacity: 1;\n    }\n    \n    .p-galleria-exit-active {\n        opacity: 0;\n        transform: scale(0.7);\n        transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    }\n    \n    .p-galleria-enter-active .p-galleria-item-nav {\n        opacity: 0;\n    }\n    \n    /* Keyboard Support */\n    .p-items-hidden .p-galleria-thumbnail-item {\n        visibility: hidden;\n    }\n    \n    .p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active {\n        visibility: visible;\n    }\n}\n",inlineStyles:{thumbnailItemsContainer:function(e){return{height:e.height}}}}});function _(e){if(Array.isArray(e))return R(e)}function G(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function L(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e){return _(e)||G(e)||V(e)||L()}function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var z=e.memo(e.forwardRef((function(n,i){var a=e.useRef(null),r=n.ptm,l=n.cx,c=function(e,t){return r(e,X({hostName:n.hostName},t))},u=function(){n.slideShowActive&&n.stopSlideShow&&n.stopSlideShow()},s=function(e){u(),n.onActiveItemChange({index:n.circular&&0===n.activeItemIndex?n.value.length-1:0!==n.activeItemIndex?n.activeItemIndex-1:0}),e&&e.cancelable&&e.preventDefault()},m=function(e){u(),n.onActiveItemChange({index:n.circular&&n.value.length-1===n.activeItemIndex?0:n.activeItemIndex+1}),e&&e.cancelable&&e.preventDefault()},p=function(e){u(),n.onActiveItemChange({index:e})},d=function(e){n.changeItemOnIndicatorHover&&(u(),n.onActiveItemChange({index:e}))},f=function(e,t){switch(e.code){case"Enter":case"Space":u(),n.onActiveItemChange({index:t}),e.preventDefault();break;case"ArrowRight":x();break;case"ArrowLeft":y();break;case"Home":w(),e.preventDefault();break;case"End":E(),e.preventDefault();break;case"Tab":N();break;case"ArrowDown":case"ArrowUp":case"PageUp":case"PageDown":e.preventDefault()}},x=function(){var e=M(I.find(a.current,'[data-pc-section="indicator"]')),n=C();T(n,n+1===e.length?e.length-1:n+1)},y=function(){var e=C();T(e,e-1<=0?0:e-1)},w=function(){var e=C();T(e,0)},E=function(){var e=M(I.find(a.current,'[data-pc-section="indicator"]')),n=C();T(n,e.length-1)},N=function(){var e=M(I.find(a.current,'[data-pc-section="indicator"]')),n=e.findIndex((function(e){return!0===I.getAttribute(e,"data-p-highlight")})),t=I.findSingle(a.current,'[data-pc-section="indicator"] > button[tabindex="0"]'),i=e.findIndex((function(e){return e===t.parentElement}));e[i].children[0].tabIndex="-1",e[n].children[0].tabIndex="0"},C=function(){var e=M(I.find(a.current,'[data-pc-section="indicator"]')),n=I.findSingle(a.current,'[data-pc-section="indicator"] > button[tabindex="0"]');return e.findIndex((function(e){return e===n.parentElement}))},T=function(e,n){var t=M(I.find(a.current,'[data-pc-section="indicator"]'));t[e].children[0].tabIndex="-1",t[n].children[0].tabIndex="0",t[n].children[0].focus()};o((function(){n.autoPlay&&n.startSlideShow()}));var j,k=function(i){var a,r="p-galleria-indicator-"+i,o=n.activeItemIndex===i,u=n.indicator&&n.indicator(i),s=v({className:l("indicator",{isActive:o}),key:r,tabIndex:0,"aria-label":(a=i+1,t("aria")?t("aria").pageLabel.replace(/{page}/g,a):void 0),"aria-selected":n.activeIndex===i,"aria-controls":n.id+"_item_"+i,"data-p-highlight":o,onClick:function(){return p(i)},onMouseEnter:function(){return d(i)},onKeyDown:function(e){return f(e,i)}},c("indicator"));return u||(u=e.createElement("button",{tabIndex:n.activeIndex===i?"0":"-1",type:"button",className:"p-link"},e.createElement(h,null))),e.createElement("li",s,u)},A=n.itemTemplate&&n.itemTemplate(n.value[n.activeItemIndex]),D=function(){if(n.showItemNavigators){var t=!n.circular&&0===n.activeItemIndex,i=v({className:l("previousItemIcon")},c("previousItemIcon")),a=g.getJSXIcon(n.itemPrevIcon||e.createElement(S,i),X({},i),{props:n}),r=v({type:"button",className:l("previousItemButton",{isDisabled:t}),onClick:s,disabled:t,"data-p-disabled":t,"data-pc-group-section":"itemnavigator"},c("previousItemButton"));return e.createElement("button",r,a,e.createElement(h,null))}return null}(),R=function(){if(n.showItemNavigators){var t=!n.circular&&n.activeItemIndex===n.value.length-1,i=v({className:l("nextItemIcon")},c("nextItemIcon")),a=g.getJSXIcon(n.itemNextIcon||e.createElement(O,i),X({},i),{props:n}),r=v({type:"button",className:l("nextItemButton",{isDisabled:t}),onClick:m,disabled:t,"data-p-disabled":t,"data-pc-group-section":"itemnavigator"},c("nextItemButton"));return e.createElement("button",r,a,e.createElement(h,null))}return null}(),V=function(){var t=v({className:l("caption")},c("caption"));if(n.caption){var i=n.caption(n.value[n.activeItemIndex]);return e.createElement("div",t,i)}return null}(),B=function(){if(n.showIndicators){for(var t=[],i=v({className:b(n.indicatorsContentClassName,l("indicators"))},c("indicators")),r=0;r<n.value.length;r++)t.push(k(r));return e.createElement("ul",P({ref:a},i),t)}return null}(),H=v({ref:i,className:l("itemWrapper")},c("itemWrapper")),U=v({className:l("itemContainer")},c("itemContainer")),_=v({className:l("item"),id:n.id+"_item_"+n.activeItemIndex,role:"group","aria-label":(j=n.activeItemIndex+1,t("aria")?t("aria").slideNumber.replace(/{slideNumber}/g,j):void 0),"aria-roledescription":t("aria")?t("aria").slide:void 0},c("item"));return e.createElement("div",H,e.createElement("div",U,D,e.createElement("div",_,A),R,V),B)})));function J(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?J(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}z.displayName="GalleriaItem";var K=e.memo((function(n){var i,a=n.ptm,r=n.cx,l=function(e,t){return a(e,Z({hostName:n.hostName},t))},o=function(){var e=I.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]'),t=p();d(t,t+1===e.length?e.length-1:t+1)},c=function(){var e=p();d(e,e-1<=0?0:e-1)},u=function(){var e=p();d(e,0)},s=function(){var e=I.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]'),t=p();d(t,e.length-1)},m=function(){var e=M(I.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]')),t=e.findIndex((function(e){return!0===I.getAttribute(e,"data-p-active")})),i=I.findSingle(n.itemsContainerRef.current,'[tabindex="0"]'),a=e.findIndex((function(e){return e===i.parentElement}));e[a].children[0].tabIndex="-1",e[t].children[0].tabIndex="0"},p=function(){var e=M(I.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]')),t=I.findSingle(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"] > [tabindex="0"]');return e.findIndex((function(e){return e===t.parentElement}))},d=function(e,t){var i=I.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]');i[e].children[0].tabIndex="-1",i[t].children[0].tabIndex="0",i[t].children[0].focus()},f=n.template&&n.template(n.item),h=v({className:b(n.className,r("thumbnailItem",{subProps:n})),key:"p-galleria-thumbnail-item-"+n.index,role:"tab","data-p-active":n.current,"aria-selected":n.current,"aria-controls":n.containerId+"_item_"+n.index,onKeyDown:function(e){switch("Enter"!==e.code&&"Space"!==e.code||(n.onItemClick({originalEvent:e,index:n.index}),e.preventDefault()),e.code){case"ArrowRight":o();break;case"ArrowLeft":c();break;case"Home":u(),e.preventDefault();break;case"End":s(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Tab":m()}},"data-p-galleria-thumbnail-item-current":n.current,"data-p-galleria-thumbnail-item-active":n.active,"data-p-galleria-thumbnail-item-start":n.start,"data-p-galleria-thumbnail-item-end":n.end},l("thumbnailItem")),g=v({className:r("thumbnailItemContent"),tabIndex:n.current?"0":"-1","aria-label":(i=n.index+1,t("aria")?t("aria").pageLabel.replace(/{page}/g,i):void 0),"aria-current":n.current?"page":void 0,onClick:function(e){n.onItemClick({originalEvent:e,index:n.index})}},l("thumbnailItemContent"));return e.createElement("div",h,e.createElement("div",g,f))})),Y=e.memo(e.forwardRef((function(a,r){var l=H(e.useState(a.numVisible),2),m=l[0],p=l[1],d=H(e.useState(0),2),f=d[0],b=d[1],w=e.useRef(null),P=e.useRef(null),C=e.useRef(""),T=e.useRef(null),j=e.useRef(null),k=c(m),A=c(a.activeItemIndex),D=e.useContext(i),R=a.ptm,V=a.cx,B=a.sx,U=function(e,n){return R(e,Z({hostName:a.hostName},n))},_=H(u({listener:function(){te()},when:a.responsiveOptions}),1)[0],G=function(e){var n=f+e;e<0&&-1*n+m>a.value.length-1?n=m-a.value.length:e>0&&n>0&&(n=0),a.circular&&(e<0&&a.value.length-1===a.activeItemIndex?n=0:e>0&&0===a.activeItemIndex&&(n=m-a.value.length)),w.current&&(I.removeClass(w.current,"p-items-hidden"),w.current.style.transform=a.isVertical?"translate3d(0, ".concat(n*(100/m),"%, 0)"):"translate3d(".concat(n*(100/m),"%, 0, 0)"),w.current.style.transition="transform 500ms ease 0s"),b(n)},L=function(){a.slideShowActive&&a.stopSlideShow&&a.stopSlideShow()},W=function(){var e=Math.floor(m/2);return m%2?e:e-1},X=function(e){L();var n=0!==a.activeItemIndex?a.activeItemIndex-1:0;m-(n+f)-1>W()&&(-1*f!=0||a.circular)&&G(1),a.onActiveItemChange({index:a.circular&&0===a.activeItemIndex?a.value.length-1:n}),e.cancelable&&e.preventDefault()},z=function(e){L();var n=a.activeItemIndex+1;n+f>W()&&(-1*f<ee()-1||a.circular)&&G(-1),a.onActiveItemChange({index:a.circular&&a.value.length-1===a.activeItemIndex?0:n}),e.cancelable&&e.preventDefault()},J=function(e){L();var n=e.index;if(n!==a.activeItemIndex){var t=n+f,i=0;n<a.activeItemIndex?(i=m-t-1-W())>0&&-1*f!=0&&G(i):(i=W()-t)<0&&-1*f<ee()-1&&G(i),a.onActiveItemChange({index:n})}},Y=function(e){w.current&&"transform"===e.propertyName&&(document.body.setAttribute("data-p-items-hidden","false"),!a.isUnstyled()&&I.addClass(w.current,"p-items-hidden"),w.current.style.transition="")},F=function(e){var n=e.changedTouches[0];P.current={x:n.pageX,y:n.pageY}},$=function(e){e.cancelable&&e.preventDefault()},q=function(e){var n=e.changedTouches[0];Q(e,a.isVertical?n.pageY-P.current.y:n.pageX-P.current.x)},Q=function(e,n){n<0?z(e):X(e)},ee=function(){return a.value.length>m?a.value.length-m+1:0},ne=function(){T.current||(T.current=I.createInlineStyle(D&&D.nonce||n.nonce,D&&D.styleContainer));var e='\n            [data-pc-section="thumbnailitems"]['.concat(C.current,'] {\n                [data-pc-section="thumbnailitem"] {\n                    flex: 1 0 ').concat(100/m,"%\n                }\n            } \n        ");if(a.responsiveOptions){var t=y.localeComparator(D&&D.locale||n.locale);j.current=M(a.responsiveOptions),j.current.sort((function(e,i){return y.sort(e.breakpoint,i.breakpoint,-1,t,D&&D.nullSortOrder||n.nullSortOrder)}));for(var i=0;i<j.current.length;i++){var r=j.current[i];e+="\n                    @media screen and (max-width: ".concat(r.breakpoint,') {\n                        [data-pc-section="thumbnailitems"][').concat(C.current,'] {\n                            [data-pc-section="thumbnailitem"] {\n                                flex: 1 0 ').concat(100/r.numVisible,"%\n                            }\n                        } \n                    }\n                ")}}T.current.innerHTML=e},te=function(){if(w.current&&j.current){for(var e=window.innerWidth,n={numVisible:a.numVisible},t=0;t<j.current.length;t++){var i=j.current[t];parseInt(i.breakpoint,10)>=e&&(n=i)}m!==n.numVisible&&p(n.numVisible)}};o((function(){w.current&&(C.current=x(),w.current.setAttribute(C.current,"")),ne(),te(),_()})),s((function(){var e=f;k===m&&A===a.activeItemIndex||((e=a.activeItemIndex<=W()?0:a.value.length-m+W()<a.activeItemIndex?m-a.value.length:a.value.length-m<a.activeItemIndex&&m%2==0?-1*a.activeItemIndex+W()+1:-1*a.activeItemIndex+W())!==f&&b(e),w.current.style.transform=a.isVertical?"translate3d(0, ".concat(e*(100/m),"%, 0)"):"translate3d(".concat(e*(100/m),"%, 0, 0)"),A!==a.activeItemIndex&&(document.body.setAttribute("data-p-items-hidden","false"),!a.isUnstyled()&&I.removeClass(w.current,"p-items-hidden"),w.current.style.transition="transform 500ms ease 0s"))}));var ie,ae,re,le,oe,ce,ue,se=function(){if(a.showThumbnailNavigators){var n=!a.circular&&0===a.activeItemIndex||a.value.length<=m,i=v({className:V("previousThumbnailIcon")},U("previousThumbnailIcon")),r=g.getJSXIcon(a.isVertical?a.prevThumbnailIcon||e.createElement(N,i):a.prevThumbnailIcon||e.createElement(S,i),Z({},i),{props:a}),l=v({className:V("previousThumbnailButton",{isDisabled:n}),onClick:X,type:"button",disabled:n,"data-p-disabled":n,"aria-label":t("aria")?t("aria").previousPageLabel:void 0,"data-pc-group-section":"thumbnailnavigator"},U("previousThumbnailButton"));return e.createElement("button",l,r,e.createElement(h,null))}return null},me=function(){if(a.showThumbnailNavigators){var n=!a.circular&&a.activeItemIndex===a.value.length-1||a.value.length<=m,i=v({className:V("nextThumbnailIcon")},U("nextThumbnailIcon")),r=g.getJSXIcon(a.isVertical?a.nextThumbnailIcon||e.createElement(E,i):a.nextThumbnailIcon||e.createElement(O,i),Z({},i),{props:a}),l=v({className:V("nextThumbnailButton",{isDisabled:n}),disabled:n,type:"button","aria-label":t("aria")?t("aria").nextPageLabel:void 0,onClick:z,"data-p-disabled":n,"data-pc-group-section":"thumbnailnavigator"},U("nextThumbnailButton"));return e.createElement("button",l,r,e.createElement(h,null))}return null},pe=(ie=a.value.map((function(n,t){var i=-1*f,r=i+m-1;return e.createElement(K,{key:t,index:t,containerId:a.containerId,itemsContainerRef:w,template:a.itemTemplate,item:n,active:i<=t&&r>=t,start:i===t,end:r===t,onItemClick:J,current:a.activeItemIndex===t,ptm:R,cx:V,sx:B})})),ae=a.isVertical?a.contentHeight:"",re=se(),le=me(),oe=v({className:V("thumbnailContainer")},U("thumbnailContainer")),ce=v({className:V("thumbnailItemsContainer"),style:B("thumbnailItemsContainer",{height:ae})},U("thumbnailItemsContainer")),ue=v({ref:w,className:V("thumbnailItems"),role:"tablist",onTransitionEnd:Y,onTouchStart:F,onTouchMove:$,onTouchEnd:q},U("thumbnailItems")),e.createElement("div",oe,re,e.createElement("div",ce,e.createElement("div",ue,ie)),le)),de=v({className:V("thumbnailWrapper")},U("thumbnailWrapper"));return e.createElement("div",de,pe)})));function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}K.displayName="GalleriaThumbnailItem",Y.displayName="GalleriaThumbnails";var q=e.memo(e.forwardRef((function(a,o){var c=e.useContext(i),u=U.getProps(a,c),s=H(e.useState(!1),2),S=s[0],O=s[1],E=H(e.useState(u.numVisible),2),N=E[0],C=E[1],T=H(e.useState(!1),2),j=T[0],k=T[1],A=H(e.useState(u.activeIndex),2),D=A[0],R=A[1],V=e.useRef(null),B=e.useRef(null),_=e.useRef(null),G=u.onItemChange?u.activeIndex:D,L="left"===u.thumbnailsPosition||"right"===u.thumbnailsPosition,M=u.id||x(),W=U.setMetaData({props:u,state:{visible:S,numVisible:N,slideShowActive:j,activeIndex:D}}),X=W.ptm,J=W.cx,Z=W.sx,K=W.isUnstyled;r(U.css.styles,K,{name:"galleria"}),m((function(){F({index:u.circular&&u.value.length-1===G?0:G+1})}),u.transitionInterval,j);var F=function(e){e.index>=u.value.length?oe():u.onItemChange?u.onItemChange(e):R(e.index)},q=function(){O(!0)},Q=function(){O(!1)},ee=function(){I.blockBodyScroll()},ne=function(){w.set("modal",_.current,c&&c.autoZIndex||n.autoZIndex,u.baseZIndex||c&&c.zIndex.modal||n.zIndex.modal),!K()&&I.addMultipleClasses(_.current,"p-component-overlay p-component-overlay-enter")},te=function(){u.onShow&&u.onShow()},ie=function(){I.unblockBodyScroll(),!K()&&I.addClass(_.current,"p-component-overlay-leave")},ae=function(){w.clear(_.current),u.onHide&&u.onHide()},re=function(){return j},le=function(){k(!0)},oe=function(){k(!1)},ce=function(e,n){var t=["top","left","bottom","right"].find((function(e){return e===n}));return t?"".concat(e,"-").concat(t):""};e.useEffect((function(){u.value&&u.value.length<N&&C(u.value.length)}),[u.value,N]),e.useEffect((function(){C(u.numVisible)}),[u.numVisible]),p((function(){j&&oe(),w.clear(_.current)})),e.useImperativeHandle(o,(function(){return{props:u,show:q,hide:Q,isAutoPlayActive:re,startSlideShow:le,stopSlideShow:oe,getElement:function(){return V.current},getPreviewContent:function(){return B.current}}}));return y.isNotEmpty(u.value)&&function(){var n,i,a,r,o,s,m,p,I,x,y,w,O=(a=u.showThumbnails&&ce("p-galleria-thumbnails",u.thumbnailsPosition),r=u.showIndicators&&ce("p-galleria-indicators",u.indicatorsPosition),o=v({className:J("closeIcon"),"aria-hidden":!0},X("closeIcon")),s=g.getJSXIcon(u.closeIcon||e.createElement(d,o),$({},o),{props:u}),m=v({type:"button",className:J("closeButton"),"aria-label":t("aria")?t("aria").close:void 0,onClick:Q},X("closeButton")),p=u.fullScreen&&e.createElement("button",m,s,e.createElement(h,null)),n=v({className:J("header")},X("header")),I=u.header?e.createElement("div",n,u.header):null,i=v({className:J("footer")},X("footer")),x=u.footer?e.createElement("div",i,u.footer):null,y=v({ref:V,id:M,className:b(u.className,J("root",{context:c,thumbnailsPosClassName:a,indicatorPosClassName:r})),style:u.style,role:"region"},U.getOtherProps(u),X("root")),w=v({className:J("content"),"aria-live":u.autoPlay?"polite":"off"},X("content")),e.createElement("div",y,p,I,e.createElement("div",w,e.createElement(z,{hostName:"Galleria",ref:B,id:M,value:u.value,activeItemIndex:G,onActiveItemChange:F,itemTemplate:u.item,circular:u.circular,caption:u.caption,showIndicators:u.showIndicators,itemPrevIcon:u.itemPrevIcon,itemNextIcon:u.itemNextIcon,changeItemOnIndicatorHover:u.changeItemOnIndicatorHover,indicator:u.indicator,showItemNavigators:u.showItemNavigators,autoPlay:u.autoPlay,slideShowActive:j,startSlideShow:le,stopSlideShow:oe,ptm:X,cx:J}),u.showThumbnails&&e.createElement(Y,{hostName:"Galleria",value:u.value,containerId:M,activeItemIndex:G,onActiveItemChange:F,itemTemplate:u.thumbnail,numVisible:N,nextThumbnailIcon:u.nextThumbnailIcon,prevThumbnailIcon:u.prevThumbnailIcon,responsiveOptions:u.responsiveOptions,circular:u.circular,isVertical:L,contentHeight:u.verticalThumbnailViewPortHeight,showThumbnailNavigators:u.showThumbnailNavigators,autoPlay:u.autoPlay,slideShowActive:j,stopSlideShow:oe,isUnstyled:K,ptm:X,cx:J,sx:Z})),x));if(u.fullScreen){var E=v({className:J("mask",{visibleState:S}),role:"dialog","aria-modal":"true"},X("mask")),C=v({classNames:J("transition"),in:S,timeout:{enter:150,exit:150},options:u.transitionOptions,unmountOnExit:!0,onEnter:ee,onEntering:ne,onEntered:te,onExit:ie,onExited:ae},X("transition")),T=e.createElement("div",P({ref:_},E),e.createElement(l,P({nodeRef:V},C),O));return e.createElement(f,{element:T})}return O}()})));q.displayName="Galleria";export{q as Galleria};
