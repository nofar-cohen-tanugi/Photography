"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("primereact/api"),n=require("primereact/button"),r=require("primereact/componentbase"),o=require("primereact/hooks"),i=require("primereact/icons/chevrondown"),u=require("primereact/overlayservice"),a=require("primereact/csstransition"),l=require("primereact/portal"),c=require("primereact/utils"),s=require("primereact/icons/angleright"),p=require("primereact/ripple"),d=require("primereact/tooltip");function m(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var b=f(e),y=m(t);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function h(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function x(e){var t=h(e,"string");return"symbol"===g(t)?t:String(t)}function I(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){if(Array.isArray(e))return e}function E(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){return O(e)||E(e,t)||w(e,t)||S()}var k=r.ComponentBase.extend({defaultProps:{__TYPE:"TieredMenu",id:null,model:null,popup:!1,style:null,className:null,autoZIndex:!0,baseZIndex:0,breakpoint:void 0,scrollHeight:"400px",appendTo:null,transitionOptions:null,onShow:null,onFocus:null,onBlur:null,onHide:null,submenuIcon:null,children:void 0},css:{classes:{root:function(e){var t=e.props,n=e.context;return c.classNames("p-tieredmenu p-component",{"p-tieredmenu-overlay":t.popup,"p-input-filled":n&&"filled"===n.inputStyle||"filled"===y.default.inputStyle,"p-ripple-disabled":n&&!1===n.ripple||!1===y.default.ripple},t.className)},separator:"p-menuitem-separator",icon:function(e){return c.classNames("p-menuitem-icon",e._icon)},content:"p-menuitem-content",label:"p-menuitem-text",submenuIcon:"p-submenu-icon",action:"p-menuitem-link",menuitem:function(e){return c.classNames("p-menuitem",{"p-menuitem-active p-highlight":e.active,"p-focus":e.focused,"p-disabled":e.disabled},e._className)},menu:"p-tieredmenu-root-list",submenu:"p-submenu-list",transition:"p-connected-overlay"},styles:"\n@layer primereact {\n    .p-tieredmenu-overlay {\n        position: absolute;\n    }\n\n    .p-tieredmenu ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n\n    .p-tieredmenu .p-submenu-list {\n        position: absolute;\n        min-width: 100%;\n        z-index: 1;\n        display: none;\n    }\n\n    .p-tieredmenu .p-menuitem-link {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        text-decoration: none;\n        overflow: hidden;\n        position: relative;\n    }\n\n    .p-tieredmenu .p-menuitem-text {\n        line-height: 1;\n    }\n\n    .p-tieredmenu .p-menuitem {\n        position: relative;\n    }\n\n    .p-tieredmenu .p-menuitem-link .p-submenu-icon {\n        margin-left: auto;\n    }\n\n    .p-tieredmenu .p-menuitem-active > .p-submenu-list {\n        display: block;\n        left: 100%;\n        top: 0;\n    }\n\n    .p-tieredmenu .p-menuitem-active > .p-submenu-list-flipped {\n        left: -100%;\n    }\n}\n",inlineStyles:{submenu:function(e){var t=e.subProps;return{display:!t.root&&t.parentActive?"block":"none"}}}}});function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=b.memo(b.forwardRef((function(e,t){var n=b.useRef(null),r=e.ptm,i=e.cx,u=e.sx,a=function(t,n){return r(n,{hostName:e.hostName,context:{active:y(t)}})},l=function(){if(n.current){var e=n.current.parentElement,t=c.DomHandler.getOffset(e),r=c.DomHandler.getViewport(),o=n.current.offsetParent?n.current.offsetWidth:c.DomHandler.getHiddenElementOuterWidth(n.current),i=c.DomHandler.getOuterWidth(e.children[0]),u=parseInt(t.top,10)+n.current.offsetHeight-c.DomHandler.getWindowScrollTop();n.current.style.top=u>r.height?r.height-u+"px":"0px",parseInt(t.left,10)+i+o>r.width-c.DomHandler.calculateScrollbarWidth()&&c.DomHandler.addClass(n.current,"p-submenu-list-flipped")}},d=function(t,n){var r=n.item;g(n)?t.preventDefault():(r.url||t.preventDefault(),r.command&&r.command({originalEvent:t,item:r}),e.onItemClick&&e.onItemClick({originalEvent:t,processedItem:n}))},m=function(t){return"".concat(e.menuId,"_").concat(t.key)},f=function(e,t,n){return e&&e.item?c.ObjectUtils.getItemValue(e.item[t],n):void 0},y=function(t){return e.activeItemPath.some((function(e){return e.key===t.key}))},v=function(e){return!1!==f(e,"visible")},g=function(e){return f(e,"disabled")},h=function(t){return e.focusedItemId===m(t)},x=function(e){return c.ObjectUtils.isNotEmpty(e.items)},I=function(t,n){e.onItemMouseEnter&&e.onItemMouseEnter({originalEvent:t,processedItem:n})},O=function(t){return t-e.model.slice(0,t).filter((function(e){return v(e)&&f(e,"separator")})).length+1};o.useUpdateEffect((function(){e.root||!e.parentActive||e.isMobileMode||l()}),[e.parentActive]),b.useImperativeHandle(t,(function(){return{getElement:function(){return n.current}}}));var E=function(t){var n=c.mergeProps({key:"separator_"+t,className:i("separator"),role:"separator"},r("separator",{hostName:e.hostName}));return b.createElement("li",n)},P=function(t,n){return x(t)?b.createElement(H,{id:e.id+"_"+n,menuProps:e.menuProps,model:t.items,menuId:e.menuId,ariaLabelledby:m(item),focusedItemId:e.focusedItemId,activeItemPath:e.activeItemPath,level:e.level+1,onItemClick:e.onItemClick,popup:e.popup,onItemMouseEnter:e.onItemMouseEnter,parentActive:y(t),isMobileMode:e.isMobileMode,submenuIcon:e.submenuIcon,ptm:e.ptm,cx:i,sx:u}):null},w=function(t,n){if(!1===v(t))return null;var r=t.item,o=f(t,"style"),u=f(t,"icon"),l=f(t,"target"),E=f(t,"url"),w=m(t),S=h(t),j=y(t),k=g(t),N=x(t),H=c.classNames("p-menuitem-link"),U=c.classNames("p-menuitem-icon",u),C=c.mergeProps({className:c.classNames(r.icon,"p-menuitem-icon","icon")},a(t,"icon")),T=c.IconUtils.getJSXIcon(u,D({},C),{props:e.menuProps}),K=c.mergeProps({className:i("label")},a(t,"label")),M=r.label&&b.createElement("span",K,r.label),_=c.mergeProps({className:i("submenuIcon")},a(t,"submenuIcon")),R=N&&c.IconUtils.getJSXIcon(e.submenuIcon||b.createElement(s.AngleRightIcon,_),D({},_),{props:e.menuProps}),B=P(t,n),L=c.mergeProps({href:E||"#","aria-hidden":!0,tabIndex:"-1",onFocus:function(e){return e.stopPropagation()},className:i("action"),target:l},a(t,"action")),A=b.createElement("a",L,T,M,R,b.createElement(p.Ripple,null));r.template&&(A=c.ObjectUtils.getJSXElement(r.template,r,{className:H,labelClassName:"p-menuitem-text",iconClassName:U,submenuIconClassName:"p-submenu-icon",element:A,props:e,active:j,disabled:k}));var Z=c.mergeProps({onClick:function(e){return d(e,t)},onMouseEnter:function(e){return I(e,t)},className:i("content")},a(t,"content")),q=c.mergeProps({key:w,id:w,"aria-label":r.label,"aria-disabled":k,"aria-expanded":N?j:void 0,"aria-haspopup":N&&!E?"menu":void 0,"aria-level":e.level+1,"aria-setsize":e.model.filter((function(e){return v(e)&&!f(e,"separator")})).length,"aria-posinset":O(n),"data-p-highlight":j,"data-p-disabled":k,"data-p-visited":S,className:i("menuitem",{className:r.className,active:j,focused:S,disabled:k}),style:o,onMouseEnter:function(e){return I(e,r)},role:"menuitem"},a(t,"menuitem"));return b.createElement("li",q,b.createElement("div",Z,A),B)},S=e.model?e.model.map((function(e,t){return f(e,"separator")?E(t):w(e,t)})):null,j=e.root?"menu":"submenu",k=c.mergeProps({ref:n,id:e.id,tabIndex:e.tabIndex,onFocus:e.onFocus,onBlur:e.onBlur,onKeyDown:e.onKeyDown,className:i(j,{subProps:e}),style:u(j,{subProps:e}),role:e.root?"menubar":"menu","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-orientation":e.ariaOrientation,"aria-activedescendant":e.focusedItemId},r(j,{hostName:e.hostName}));return b.createElement("ul",k,S)})));function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}H.displayName="TieredMenuSub";var T=b.memo(b.forwardRef((function(e,n){var i=b.useContext(t.PrimeReactContext),s=k.getProps(e,i),p=j(b.useState(s.id),2),d=p[0],m=p[1],f=j(b.useState(!s.popup),2),g=f[0],h=f[1],x=j(b.useState([]),2),I=x[0],O=x[1],E=j(b.useState(!1),2),P=E[0],w=E[1],S=j(b.useState(null),2),N=S[0],D=S[1],U=j(b.useState({index:-1,level:0,parentKey:""}),2),T=U[0],K=U[1],M=j(b.useState(!1),2),_=M[0],R=M[1],B=j(b.useState([]),2),L=B[0],A=B[1],Z=j(b.useState([]),2),q=Z[0],z=Z[1],W=j(b.useState(!1),2),F=W[0],V=W[1],J=j(b.useState(null),2),X=J[0],Y=J[1],G=k.setMetaData({props:s,state:{id:d,visible:g,attributeSelector:X}}),$=G.ptm,Q=G.cx,ee=G.sx;r.useHandleStyle(k.css.styles,G.isUnstyled,{name:"tieredmenu"});var te=b.useRef(null),ne=b.useRef(null),re=b.useRef(null),oe=b.useRef(null),ie=b.useRef(null),ue=b.useRef(null),ae=b.useRef(null),le=o.useMatchMedia("screen and (max-width: ".concat(s.breakpoint,")"),!!s.breakpoint),ce=j(o.useEventListener({type:"click",listener:function(e){var t=te.current&&!te.current.contains(e.target),n=!s.popup||!(re.current&&(re.current===e.target||re.current.contains(e.target)));t&&n&&ge(e,!s.popup)}}),2),se=ce[0],pe=ce[1],de=j(o.useResizeListener({listener:function(){!le&&ge(event,!0)}}),2),me=de[0],fe=de[1],be=function(e){s.popup&&u.OverlayService.emit("overlay-click",{originalEvent:e,target:re.current})},ye=function(e){s.popup&&(g?ge(e):ve(e))},ve=function(e){s.popup&&(re.current=e.currentTarget,h(!0),s.onShow&&s.onShow(e),oe.current=e.relatedTarget||null),K({index:Ge(),level:0,parentKey:""})},ge=function(e,t){s.popup&&(h(!1),s.onHide&&s.onHide(e));var n=Ke();O([]),K({index:-1,level:0,parentKey:""}),t&&c.DomHandler.focus(oe.current||re.current||n),R(!1)},he=function(e){w(!0),K(-1!==T.index?T:{index:Ge(),level:0,parentKey:""}),s.onFocus&&s.onFocus(e)},xe=function(e){w(!1),K({index:-1,level:0,parentKey:""}),ue.current="",R(!1),s.onBlur&&s.onBlur(e)},Ie=function(e){var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":we(e);break;case"ArrowUp":Se(e);break;case"ArrowLeft":je(e);break;case"ArrowRight":ke(e);break;case"Home":Ne(e);break;case"End":De(e);break;case"Space":Ue(e);break;case"Enter":He(e);break;case"Escape":s.popup&&c.DomHandler.focus(re.current),Ce(e);break;case"Tab":Te(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&c.ObjectUtils.isPrintableCharacter(e.key)&&Qe(e.key)}},Oe=function(e){var t=e.processedItem,n=e.isFocus;if(!c.ObjectUtils.isEmpty(t)){var r=t.index,o=t.key,i=t.level,u=t.parentKey,a=c.ObjectUtils.isNotEmpty(t.items),l=I.filter((function(e){return e.parentKey!==u&&e.parentKey!==o}));a&&l.push(t),K({index:r,level:i,parentKey:u}),O(l),a&&R(!0),n&&c.DomHandler.focus(Ke())}},Ee=function(e){var t=e.originalEvent,n=e.processedItem;if(!Re(n)&&!s.isMobileMode){var r=Ae(n),o=c.ObjectUtils.isEmpty(n.parent),i=We(n),u=Ke();if(i){var a=n.index,l=n.key,p=n.level,d=n.parentKey;O(I.filter((function(e){return l!==e.key&&l.startsWith(e.key)}))),K({index:a,level:p,parentKey:d}),r||R(!o),setTimeout((function(){c.DomHandler.focus(u),r&&R(!0)}),0)}else if(r)c.DomHandler.focus(u),Oe(e);else{var m=o?n:I.find((function(e){return""===e.parentKey})),f=m?m.index:-1;ge(t,!0),K({index:f,parentKey:m?m.parentKey:""})}}},Pe=function(e){var t=e.originalEvent;Re(e.processedItem)||s.isMobileMode?t.preventDefault():_&&!s.popup&&Oe(e)},we=function(e){var t=-1!==T.index?Je(T.index):Ge();et(t),e.preventDefault()},Se=function(e){if(e.altKey){if(s.popup&&c.DomHandler.focus(re.current),-1!==T.index){var t=q[T.index];!Ae(t)&&Oe({originalEvent:e,processedItem:t})}s.popup&&ge(e,!0),e.preventDefault()}else{var n=-1!==T.index?Xe(T.index):$e();et(n),e.preventDefault()}},je=function(e){var t=q[T.index],n=I.find((function(e){return e.key===t.parentKey}));c.ObjectUtils.isEmpty(t.parent)||(K({index:-1,parentKey:n?n.parentKey:""}),ue.current="",setTimeout((function(){return V(!0)}),0)),O(I.filter((function(e){return e.parentKey!==T.parentKey}))),e.preventDefault()},ke=function(e){var t=q[T.index];Ae(t)&&(Oe({originalEvent:e,processedItem:t}),K({index:-1,parentKey:t.key}),ue.current="",setTimeout((function(){return V(!0)}),0)),e.preventDefault()},Ne=function(e){et(Fe()),e.preventDefault()},De=function(e){et(Ve()),e.preventDefault()},He=function(e){if(-1!==T.index){var t=c.DomHandler.findSingle(Ke(),'li[id="'.concat("".concat(N),'"]')),n=t&&c.DomHandler.findSingle(t,'[data-pc-section="action"]');s.popup&&c.DomHandler.focus(re.current),n?n.click():t&&t.click()}e.preventDefault()},Ue=function(e){He(e)},Ce=function(e){ge(e,!0),!s.popup&&K(C(C({},T),{},{index:Ge()})),e.preventDefault()},Te=function(e){if(-1!==T.index){var t=q[T.index];!Ae(t)&&Oe({originalEvent:e,processedItem:t})}ge(e)},Ke=function(){return ne.current.getElement()||null},Me=function(e,t){return e?c.ObjectUtils.getItemValue(e[t]):void 0},_e=function(e){return Me(e,"label")},Re=function(e){return Me(e,"disabled")},Be=function(e){return Me(e,"separator")},Le=function(e){return e?_e(e.item):void 0},Ae=function(e){return e&&c.ObjectUtils.isNotEmpty(e.items)},Ze=function(e){return qe(e)&&Le(e).toLocaleLowerCase().startsWith(ue.current.toLocaleLowerCase())},qe=function(e){return!!e&&!Re(e.item)&&!Be(e.item)},ze=function(e){return qe(e)&&We(e)},We=function(e){return I.some((function(t){return t.key===e.key}))},Fe=function(){return q.findIndex((function(e){return qe(e)}))},Ve=function(){return c.ObjectUtils.findLastIndex(q,(function(e){return qe(e)}))},Je=function(e){var t=e<q.length-1?q.slice(e+1).findIndex((function(e){return qe(e)})):-1;return t>-1?t+e+1:e},Xe=function(e){var t=e>0?c.ObjectUtils.findLastIndex(q.slice(0,e),(function(e){return qe(e)})):-1;return t>-1?t:e},Ye=function(){return q.findIndex((function(e){return ze(e)}))},Ge=function(){var e=Ye();return e<0?Fe():e},$e=function(){var e=Ye();return e<0?Ve():e},Qe=function(e){ue.current=(ue.current||"")+e;var t=-1,n=!1;return-1!==(t=-1!==T.index?-1===(t=q.slice(T.index).findIndex((function(e){return Ze(e)})))?q.slice(0,T.index).findIndex((function(e){return Ze(e)})):t+T.index:q.findIndex((function(e){return Ze(e)})))&&(n=!0),-1===t&&-1===T.index&&(t=Ge()),-1!==t&&et(t),ae.current&&clearTimeout(ae),ae.current=setTimeout((function(){ue.current="",ae.current=null}),500),n},et=function(e){T.index!==e&&(K(C(C({},T),{},{index:e})),tt())},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=-1!==e?"".concat(d,"_").concat(e):N,n=c.DomHandler.findSingle(Ke(),'li[id="'.concat(t,'"]'));n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"})},nt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=[];return t&&t.forEach((function(t,u){var a=(""!==o?o+"_":"")+u,l={item:t,index:u,level:n,key:a,parent:r,parentKey:o};l.items=e(t.items,n+1,l,a),i.push(l)})),i},rt=function(){if(!ie.current){ie.current=c.DomHandler.createInlineStyle(i&&i.nonce||y.default.nonce,i&&i.styleContainer);var e="".concat(X),t="\n@media screen and (max-width: ".concat(s.breakpoint,") {\n    .p-tieredmenu[").concat(e,"] > ul {\n        max-height: ").concat(s.scrollHeight,";\n        overflow: ").concat(s.scrollHeight?"auto":"",";\n    }\n\n    .p-tieredmenu[").concat(e,"] .p-submenu-list {\n        position: relative;\n    }\n\n    .p-tieredmenu[").concat(e,"] .p-menuitem-active > .p-submenu-list {\n        left: 0;\n        box-shadow: none;\n        border-radius: 0;\n        padding: 0 0 0 calc(var(--inline-spacing) * 2); /* @todo */\n    }\n\n    .p-tieredmenu[").concat(e,"] .p-menuitem-active > .p-menuitem-link > .p-submenu-icon {\n        transform: rotate(-180deg);\n    }\n\n    .p-tieredmenu[").concat(e,'] .p-submenu-icon:before {\n        content: "\\e930";\n    }\n\n    ').concat(s.popup?"":".p-tieredmenu[".concat(e,"] { width: 100%; }"),"\n}\n");ie.current.innerHTML=t}},ot=function(){ie.current=c.DomHandler.removeInlineStyle(ie.current)},it=function(){s.autoZIndex&&c.ZIndexUtils.set("menu",te.current,i&&i.autoZIndex||y.default.autoZIndex,s.baseZIndex||i&&i.zIndex.menu||y.default.zIndex.menu),c.DomHandler.addStyles(te.current,{position:"absolute",top:"0",left:"0"}),c.DomHandler.absolutePosition(te.current,re.current),c.DomHandler.getOuterWidth(re.current)>c.DomHandler.getOuterWidth(te.current)&&(te.current.style.minWidth=c.DomHandler.getOuterWidth(re.current)+"px"),c.DomHandler.focus(ne.current.getElement()),tt(),X&&s.breakpoint&&(te.current.setAttribute(X,""),rt())},ut=function(){se(),me()},at=function(){re.current=null,pe(),fe()},lt=function(){c.ZIndexUtils.clear(te.current),ot()};o.useMountEffect((function(){var e=c.UniqueComponentId();!d&&m(e),s.breakpoint&&!X&&Y(e)})),o.useUpdateEffect((function(){var e=nt(s.model||[]);A(e)}),s.model),o.useUpdateEffect((function(){var e=I.find((function(e){return e.key===T.parentKey}));z(e?e.items:L)}),[I,T,L]),o.useUpdateEffect((function(){var e=-1!==T.index?"".concat(d).concat(c.ObjectUtils.isNotEmpty(T.parentKey)?"_"+T.parentKey:"","_").concat(T.index):null;D(e)}),[T]),o.useUpdateEffect((function(){s.popup||(c.ObjectUtils.isNotEmpty(I)?(se(),me()):(pe(),fe()))}),[I]),o.useUpdateEffect((function(){if(F){var e=-1!==T.index?Je(T.index):Ge();et(e),O(I.filter((function(e){return e.parentKey!==T.parentKey}))),V(!1)}}),[F]),o.useUpdateEffect((function(){return X&&te.current&&(te.current.setAttribute(X,""),rt()),function(){ot()}}),[X,s.breakpoint]),o.useUnmountEffect((function(){c.ZIndexUtils.clear(te.current)})),b.useImperativeHandle(n,(function(){return{props:s,toggle:ye,show:ve,hide:ge,getElement:function(){return te.current}}}));var ct,st,pt=(ct=c.mergeProps({ref:te,id:s.id,className:Q("root"),style:s.style,onClick:be},k.getOtherProps(s),$("root")),st=c.mergeProps({classNames:Q("transition"),in:g,timeout:{enter:120,exit:100},options:s.transitionOptions,unmountOnExit:!0,onEnter:it,onEntered:ut,onExit:at,onExited:lt},$("transition")),b.createElement(a.CSSTransition,v({nodeRef:te},st),b.createElement("div",ct,b.createElement(H,{id:d+"_list",ref:ne,hostName:"TieredMenu",menuProps:s,tabIndex:0,model:L,ariaLabel:s.ariaLabel,ariaLabelledBy:s.ariaLabelledBy,ariaOrientation:"vertical",ariaActiveDescendant:P?N:void 0,menuId:d,level:0,focusedItemId:N,activeItemPath:I,onFocus:he,onBlur:xe,onKeyDown:Ie,onItemClick:Ee,onItemMouseEnter:Pe,root:!0,popup:s.popup,onHide:ge,isMobileMode:le,submenuIcon:s.submenuIcon,ptm:$,cx:Q,sx:ee}))));return s.popup?b.createElement(l.Portal,{element:pt,appendTo:s.appendTo}):pt})));T.displayName="TieredMenu";var K=r.ComponentBase.extend({defaultProps:{__TYPE:"SplitButton",id:null,label:null,icon:null,autoZIndex:!1,baseZIndex:0,loading:!1,loadingIcon:null,model:null,disabled:null,style:null,className:null,buttonClassName:null,menuStyle:null,menuClassName:null,menuButtonClassName:null,buttonProps:null,menuButtonProps:null,tabIndex:null,severity:null,rounded:!1,raised:!1,outlined:!1,text:!1,size:null,appendTo:null,tooltip:null,tooltipOptions:null,buttonTemplate:null,transitionOptions:null,dropdownIcon:null,onClick:null,onShow:null,onHide:null,children:void 0},css:{classes:{icon:"p-button-icon p-c",root:function(e){var t=e.props,n=e.size;return c.classNames("p-splitbutton p-component",I(I(I(I(I(I({"p-disabled":t.disabled,"p-button-loading-label-only":t.loading&&!t.icon&&t.label},"p-button-".concat(t.severity),t.severity),"p-button-raised",t.raised),"p-button-rounded",t.rounded),"p-button-text",t.text),"p-button-outlined",t.outlined),"p-button-".concat(n),n))},button:"p-splitbutton-defaultbutton",menuButton:"p-splitbutton-menubutton",menu:function(e){return c.classNames("p-menu p-menu-overlay p-component",e.subProps.menuClassName)},menuList:"p-menu-list p-reset",separator:"p-menu-separator",menuIcon:"p-menuitem-icon",menuLabel:"p-menuitem-text",anchor:function(e){return c.classNames("p-menuitem-link",e._className,{"p-disabled":e.disabled})},menuItem:"p-menuitem",transition:"p-connected-overlay"},styles:"\n@layer primereact {\n    .p-splitbutton {\n        display: inline-flex;\n        position: relative;\n    }\n\n    .p-splitbutton .p-splitbutton-defaultbutton,\n    .p-splitbutton.p-button-rounded > .p-splitbutton-defaultbutton.p-button,\n    .p-splitbutton.p-button-outlined > .p-splitbutton-defaultbutton.p-button,\n    .p-splitbutton.p-button-outlined > .p-splitbutton-defaultbutton.p-button-outlined.p-button:hover {\n        flex: 1 1 auto;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n        border-right: 0 none;\n    }\n\n    .p-splitbutton-menubutton,\n    .p-splitbutton.p-button-rounded > .p-splitbutton-menubutton.p-button,\n    .p-splitbutton.p-button-outlined > .p-splitbutton-menubutton.p-button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n    }\n\n    .p-splitbutton .p-menu {\n        min-width: 100%;\n    }\n\n    .p-fluid .p-splitbutton  {\n        display: flex;\n    }\n}\n"}});function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=b.memo(b.forwardRef((function(e,a){var l=b.useContext(t.PrimeReactContext),s=K.getProps(e,l),p=j(b.useState(s.id),2),m=p[0],f=p[1],g=j(b.useState(!1),2),h=g[0],x=g[1],I=b.useRef(null),O=b.useRef(null),E=b.useRef(null),P=b.useRef(null),w=o.useDisplayOrder("split-button-tooltip",h),S={props:s,state:{id:m,overlayVisible:h}},k=K.setMetaData(S),N=k.ptm,D=k.cx;r.useHandleStyle(K.css.styles,k.isUnstyled,{name:"splitbutton"}),o.useGlobalOnEscapeKey({callback:function(){C()},when:h,priority:[o.ESC_KEY_HANDLING_PRIORITIES.SPLIT_BUTTON,w]});var H=function(e){h?C(e):U(e)},U=function(e){x(!0),O.current&&O.current.show(e)},C=function(e){x(!1),O.current&&O.current.hide(e)};if(o.useMountEffect((function(){m||f(c.UniqueComponentId()),c.DomHandler.alignOverlay(P.current,E.current.parentElement,s.appendTo||l&&l.appendTo||y.default.appendTo)})),o.useUnmountEffect((function(){c.ZIndexUtils.clear(P.current)})),b.useImperativeHandle(a,(function(){return{props:s,show:U,hide:C,getElement:function(){return I.current}}})),!1===s.visible)return null;var M=c.ObjectUtils.isNotEmpty(s.tooltip),R={large:"lg",small:"sm"}[s.size],B=s.buttonTemplate?c.ObjectUtils.getJSXElement(s.buttonTemplate,s):null,L=m+"_overlay",A=c.mergeProps({ref:I,id:m,className:c.classNames(s.className,D("root",{size:R})),style:s.style},K.getOtherProps(s),N("root"));return b.createElement(b.Fragment,null,b.createElement("div",A,b.createElement(n.Button,v({ref:E,type:"button",className:c.classNames(s.buttonClassName,D("button")),icon:s.icon,loading:s.loading,loadingIcon:s.loadingIcon,severity:s.severity,label:s.label,"aria-label":s.label,raised:s.raised,onClick:s.onClick,disabled:s.disabled,tabIndex:s.tabIndex,size:s.size,outlined:s.outlined,text:s.text},s.buttonProps,{pt:N("button"),__parentMetadata:{parent:S},unstyled:s.unstyled}),B),b.createElement(n.Button,v({type:"button",className:c.classNames(s.menuButtonClassName,D("menuButton")),icon:function(){var e=c.mergeProps({className:D("icon")},N("icon")),t=c.IconUtils.getJSXIcon(s.dropdownIcon||b.createElement(i.ChevronDownIcon,e),_({},e),{props:s});return t},onClick:H,disabled:s.disabled,"aria-expanded":h,"aria-haspopup":"true","aria-controls":L},s.menuButtonProps,{size:s.size,severity:s.severity,outlined:s.outlined,text:s.text,raised:s.raised,pt:N("menuButton"),__parentMetadata:{parent:S},onKeyDown:function(e){"ArrowDown"!==e.code&&"ArrowUp"!==e.code||(H(e),e.preventDefault())},unstyled:s.unstyled})),b.createElement(T,{ref:O,popup:!0,unstyled:s.unstyled,model:s.model,appendTo:s.appendTo,id:L,style:s.menuStyle,autoZIndex:s.autoZIndex,baseZIndex:s.baseZIndex,className:s.menuClassName,onClick:function(e){u.OverlayService.emit("overlay-click",{originalEvent:e,target:I.current})},onShow:function(){s.onShow&&s.onShow()},onHide:function(){x(!1),s.onHide&&s.onHide()},pt:N("menu")})),M&&b.createElement(d.Tooltip,v({target:I,content:s.tooltip},s.tooltipOptions,{pt:N("tooltip")})))})));R.displayName="SplitButton",exports.SplitButton=R;
