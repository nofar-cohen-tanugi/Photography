import*as e from"react";import t,{PrimeReactContext as n}from"primereact/api";import{Button as r}from"primereact/button";import{ComponentBase as o,useHandleStyle as i}from"primereact/componentbase";import{useUpdateEffect as u,useMatchMedia as a,useEventListener as l,useResizeListener as c,useMountEffect as s,useUnmountEffect as p,useDisplayOrder as m,useGlobalOnEscapeKey as d,ESC_KEY_HANDLING_PRIORITIES as f}from"primereact/hooks";import{ChevronDownIcon as b}from"primereact/icons/chevrondown";import{OverlayService as y}from"primereact/overlayservice";import{CSSTransition as v}from"primereact/csstransition";import{Portal as g}from"primereact/portal";import{classNames as h,mergeProps as x,DomHandler as I,ObjectUtils as O,IconUtils as E,UniqueComponentId as w,ZIndexUtils as k}from"primereact/utils";import{AngleRightIcon as S}from"primereact/icons/angleright";import{Ripple as P}from"primereact/ripple";import{Tooltip as N}from"primereact/tooltip";function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function K(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e){var t=K(e,"string");return"symbol"===D(t)?t:String(t)}function C(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){if(Array.isArray(e))return e}function _(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e,t){return M(e)||_(e,t)||B(e,t)||L()}var R=o.extend({defaultProps:{__TYPE:"TieredMenu",id:null,model:null,popup:!1,style:null,className:null,autoZIndex:!0,baseZIndex:0,breakpoint:void 0,scrollHeight:"400px",appendTo:null,transitionOptions:null,onShow:null,onFocus:null,onBlur:null,onHide:null,submenuIcon:null,children:void 0},css:{classes:{root:function(e){var n=e.props,r=e.context;return h("p-tieredmenu p-component",{"p-tieredmenu-overlay":n.popup,"p-input-filled":r&&"filled"===r.inputStyle||"filled"===t.inputStyle,"p-ripple-disabled":r&&!1===r.ripple||!1===t.ripple},n.className)},separator:"p-menuitem-separator",icon:function(e){return h("p-menuitem-icon",e._icon)},content:"p-menuitem-content",label:"p-menuitem-text",submenuIcon:"p-submenu-icon",action:"p-menuitem-link",menuitem:function(e){return h("p-menuitem",{"p-menuitem-active p-highlight":e.active,"p-focus":e.focused,"p-disabled":e.disabled},e._className)},menu:"p-tieredmenu-root-list",submenu:"p-submenu-list",transition:"p-connected-overlay"},styles:"\n@layer primereact {\n    .p-tieredmenu-overlay {\n        position: absolute;\n    }\n\n    .p-tieredmenu ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n\n    .p-tieredmenu .p-submenu-list {\n        position: absolute;\n        min-width: 100%;\n        z-index: 1;\n        display: none;\n    }\n\n    .p-tieredmenu .p-menuitem-link {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        text-decoration: none;\n        overflow: hidden;\n        position: relative;\n    }\n\n    .p-tieredmenu .p-menuitem-text {\n        line-height: 1;\n    }\n\n    .p-tieredmenu .p-menuitem {\n        position: relative;\n    }\n\n    .p-tieredmenu .p-menuitem-link .p-submenu-icon {\n        margin-left: auto;\n    }\n\n    .p-tieredmenu .p-menuitem-active > .p-submenu-list {\n        display: block;\n        left: 100%;\n        top: 0;\n    }\n\n    .p-tieredmenu .p-menuitem-active > .p-submenu-list-flipped {\n        left: -100%;\n    }\n}\n",inlineStyles:{submenu:function(e){var t=e.subProps;return{display:!t.root&&t.parentActive?"block":"none"}}}}});function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=e.memo(e.forwardRef((function(t,n){var r=e.useRef(null),o=t.ptm,i=t.cx,a=t.sx,l=function(e,n){return o(n,{hostName:t.hostName,context:{active:d(e)}})},c=function(){if(r.current){var e=r.current.parentElement,t=I.getOffset(e),n=I.getViewport(),o=r.current.offsetParent?r.current.offsetWidth:I.getHiddenElementOuterWidth(r.current),i=I.getOuterWidth(e.children[0]),u=parseInt(t.top,10)+r.current.offsetHeight-I.getWindowScrollTop();r.current.style.top=u>n.height?n.height-u+"px":"0px",parseInt(t.left,10)+i+o>n.width-I.calculateScrollbarWidth()&&I.addClass(r.current,"p-submenu-list-flipped")}},s=function(e,n){var r=n.item;b(n)?e.preventDefault():(r.url||e.preventDefault(),r.command&&r.command({originalEvent:e,item:r}),t.onItemClick&&t.onItemClick({originalEvent:e,processedItem:n}))},p=function(e){return"".concat(t.menuId,"_").concat(e.key)},m=function(e,t,n){return e&&e.item?O.getItemValue(e.item[t],n):void 0},d=function(e){return t.activeItemPath.some((function(t){return t.key===e.key}))},f=function(e){return!1!==m(e,"visible")},b=function(e){return m(e,"disabled")},y=function(e){return t.focusedItemId===p(e)},v=function(e){return O.isNotEmpty(e.items)},g=function(e,n){t.onItemMouseEnter&&t.onItemMouseEnter({originalEvent:e,processedItem:n})},w=function(e){return e-t.model.slice(0,e).filter((function(e){return f(e)&&m(e,"separator")})).length+1};u((function(){t.root||!t.parentActive||t.isMobileMode||c()}),[t.parentActive]),e.useImperativeHandle(n,(function(){return{getElement:function(){return r.current}}}));var k=function(n){var r=x({key:"separator_"+n,className:i("separator"),role:"separator"},o("separator",{hostName:t.hostName}));return e.createElement("li",r)},N=function(n,r){return v(n)?e.createElement(W,{id:t.id+"_"+r,menuProps:t.menuProps,model:n.items,menuId:t.menuId,ariaLabelledby:p(item),focusedItemId:t.focusedItemId,activeItemPath:t.activeItemPath,level:t.level+1,onItemClick:t.onItemClick,popup:t.popup,onItemMouseEnter:t.onItemMouseEnter,parentActive:d(n),isMobileMode:t.isMobileMode,submenuIcon:t.submenuIcon,ptm:t.ptm,cx:i,sx:a}):null},j=function(n,r){if(!1===f(n))return null;var o=n.item,u=m(n,"style"),a=m(n,"icon"),c=m(n,"target"),I=m(n,"url"),k=p(n),j=y(n),D=d(n),K=b(n),T=v(n),C=h("p-menuitem-link"),M=h("p-menuitem-icon",a),_=x({className:h(o.icon,"p-menuitem-icon","icon")},l(n,"icon")),A=E.getJSXIcon(a,Z({},_),{props:t.menuProps}),B=x({className:i("label")},l(n,"label")),L=o.label&&e.createElement("span",B,o.label),H=x({className:i("submenuIcon")},l(n,"submenuIcon")),R=T&&E.getJSXIcon(t.submenuIcon||e.createElement(S,H),Z({},H),{props:t.menuProps}),z=N(n,r),W=x({href:I||"#","aria-hidden":!0,tabIndex:"-1",onFocus:function(e){return e.stopPropagation()},className:i("action"),target:c},l(n,"action")),F=e.createElement("a",W,A,L,R,e.createElement(P,null));o.template&&(F=O.getJSXElement(o.template,o,{className:C,labelClassName:"p-menuitem-text",iconClassName:M,submenuIconClassName:"p-submenu-icon",element:F,props:t,active:D,disabled:K}));var U=x({onClick:function(e){return s(e,n)},onMouseEnter:function(e){return g(e,n)},className:i("content")},l(n,"content")),V=x({key:k,id:k,"aria-label":o.label,"aria-disabled":K,"aria-expanded":T?D:void 0,"aria-haspopup":T&&!I?"menu":void 0,"aria-level":t.level+1,"aria-setsize":t.model.filter((function(e){return f(e)&&!m(e,"separator")})).length,"aria-posinset":w(r),"data-p-highlight":D,"data-p-disabled":K,"data-p-visited":j,className:i("menuitem",{className:o.className,active:D,focused:j,disabled:K}),style:u,onMouseEnter:function(e){return g(e,o)},role:"menuitem"},l(n,"menuitem"));return e.createElement("li",V,e.createElement("div",U,F),z)},D=t.model?t.model.map((function(e,t){return m(e,"separator")?k(t):j(e,t)})):null,K=t.root?"menu":"submenu",T=x({ref:r,id:t.id,tabIndex:t.tabIndex,onFocus:t.onFocus,onBlur:t.onBlur,onKeyDown:t.onKeyDown,className:i(K,{subProps:t}),style:a(K,{subProps:t}),role:t.root?"menubar":"menu","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-orientation":t.ariaOrientation,"aria-activedescendant":t.focusedItemId},o(K,{hostName:t.hostName}));return e.createElement("ul",T,D)})));function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}W.displayName="TieredMenuSub";var V=e.memo(e.forwardRef((function(r,o){var m=e.useContext(n),d=R.getProps(r,m),f=H(e.useState(d.id),2),b=f[0],h=f[1],E=H(e.useState(!d.popup),2),S=E[0],P=E[1],N=H(e.useState([]),2),D=N[0],K=N[1],T=H(e.useState(!1),2),C=T[0],M=T[1],_=H(e.useState(null),2),A=_[0],B=_[1],L=H(e.useState({index:-1,level:0,parentKey:""}),2),z=L[0],Z=L[1],F=H(e.useState(!1),2),V=F[0],J=F[1],X=H(e.useState([]),2),Y=X[0],$=X[1],q=H(e.useState([]),2),G=q[0],Q=q[1],ee=H(e.useState(!1),2),te=ee[0],ne=ee[1],re=H(e.useState(null),2),oe=re[0],ie=re[1],ue=R.setMetaData({props:d,state:{id:b,visible:S,attributeSelector:oe}}),ae=ue.ptm,le=ue.cx,ce=ue.sx;i(R.css.styles,ue.isUnstyled,{name:"tieredmenu"});var se=e.useRef(null),pe=e.useRef(null),me=e.useRef(null),de=e.useRef(null),fe=e.useRef(null),be=e.useRef(null),ye=e.useRef(null),ve=a("screen and (max-width: ".concat(d.breakpoint,")"),!!d.breakpoint),ge=H(l({type:"click",listener:function(e){var t=se.current&&!se.current.contains(e.target),n=!d.popup||!(me.current&&(me.current===e.target||me.current.contains(e.target)));t&&n&&Pe(e,!d.popup)}}),2),he=ge[0],xe=ge[1],Ie=H(c({listener:function(){!ve&&Pe(event,!0)}}),2),Oe=Ie[0],Ee=Ie[1],we=function(e){d.popup&&y.emit("overlay-click",{originalEvent:e,target:me.current})},ke=function(e){d.popup&&(S?Pe(e):Se(e))},Se=function(e){d.popup&&(me.current=e.currentTarget,P(!0),d.onShow&&d.onShow(e),de.current=e.relatedTarget||null),Z({index:ut(),level:0,parentKey:""})},Pe=function(e,t){d.popup&&(P(!1),d.onHide&&d.onHide(e));var n=Fe();K([]),Z({index:-1,level:0,parentKey:""}),t&&I.focus(de.current||me.current||n),J(!1)},Ne=function(e){M(!0),Z(-1!==z.index?z:{index:ut(),level:0,parentKey:""}),d.onFocus&&d.onFocus(e)},je=function(e){M(!1),Z({index:-1,level:0,parentKey:""}),be.current="",J(!1),d.onBlur&&d.onBlur(e)},De=function(e){var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":Me(e);break;case"ArrowUp":_e(e);break;case"ArrowLeft":Ae(e);break;case"ArrowRight":Be(e);break;case"Home":Le(e);break;case"End":He(e);break;case"Space":ze(e);break;case"Enter":Re(e);break;case"Escape":d.popup&&I.focus(me.current),Ze(e);break;case"Tab":We(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&O.isPrintableCharacter(e.key)&&lt(e.key)}},Ke=function(e){var t=e.processedItem,n=e.isFocus;if(!O.isEmpty(t)){var r=t.index,o=t.key,i=t.level,u=t.parentKey,a=O.isNotEmpty(t.items),l=D.filter((function(e){return e.parentKey!==u&&e.parentKey!==o}));a&&l.push(t),Z({index:r,level:i,parentKey:u}),K(l),a&&J(!0),n&&I.focus(Fe())}},Te=function(e){var t=e.originalEvent,n=e.processedItem;if(!Je(n)&&!d.isMobileMode){var r=$e(n),o=O.isEmpty(n.parent),i=et(n),u=Fe();if(i){var a=n.index,l=n.key,c=n.level,s=n.parentKey;K(D.filter((function(e){return l!==e.key&&l.startsWith(e.key)}))),Z({index:a,level:c,parentKey:s}),r||J(!o),setTimeout((function(){I.focus(u),r&&J(!0)}),0)}else if(r)I.focus(u),Ke(e);else{var p=o?n:D.find((function(e){return""===e.parentKey})),m=p?p.index:-1;Pe(t,!0),Z({index:m,parentKey:p?p.parentKey:""})}}},Ce=function(e){var t=e.originalEvent;Je(e.processedItem)||d.isMobileMode?t.preventDefault():V&&!d.popup&&Ke(e)},Me=function(e){var t=-1!==z.index?rt(z.index):ut();ct(t),e.preventDefault()},_e=function(e){if(e.altKey){if(d.popup&&I.focus(me.current),-1!==z.index){var t=G[z.index];!$e(t)&&Ke({originalEvent:e,processedItem:t})}d.popup&&Pe(e,!0),e.preventDefault()}else{var n=-1!==z.index?ot(z.index):at();ct(n),e.preventDefault()}},Ae=function(e){var t=G[z.index],n=D.find((function(e){return e.key===t.parentKey}));O.isEmpty(t.parent)||(Z({index:-1,parentKey:n?n.parentKey:""}),be.current="",setTimeout((function(){return ne(!0)}),0)),K(D.filter((function(e){return e.parentKey!==z.parentKey}))),e.preventDefault()},Be=function(e){var t=G[z.index];$e(t)&&(Ke({originalEvent:e,processedItem:t}),Z({index:-1,parentKey:t.key}),be.current="",setTimeout((function(){return ne(!0)}),0)),e.preventDefault()},Le=function(e){ct(tt()),e.preventDefault()},He=function(e){ct(nt()),e.preventDefault()},Re=function(e){if(-1!==z.index){var t=I.findSingle(Fe(),'li[id="'.concat("".concat(A),'"]')),n=t&&I.findSingle(t,'[data-pc-section="action"]');d.popup&&I.focus(me.current),n?n.click():t&&t.click()}e.preventDefault()},ze=function(e){Re(e)},Ze=function(e){Pe(e,!0),!d.popup&&Z(U(U({},z),{},{index:ut()})),e.preventDefault()},We=function(e){if(-1!==z.index){var t=G[z.index];!$e(t)&&Ke({originalEvent:e,processedItem:t})}Pe(e)},Fe=function(){return pe.current.getElement()||null},Ue=function(e,t){return e?O.getItemValue(e[t]):void 0},Ve=function(e){return Ue(e,"label")},Je=function(e){return Ue(e,"disabled")},Xe=function(e){return Ue(e,"separator")},Ye=function(e){return e?Ve(e.item):void 0},$e=function(e){return e&&O.isNotEmpty(e.items)},qe=function(e){return Ge(e)&&Ye(e).toLocaleLowerCase().startsWith(be.current.toLocaleLowerCase())},Ge=function(e){return!!e&&!Je(e.item)&&!Xe(e.item)},Qe=function(e){return Ge(e)&&et(e)},et=function(e){return D.some((function(t){return t.key===e.key}))},tt=function(){return G.findIndex((function(e){return Ge(e)}))},nt=function(){return O.findLastIndex(G,(function(e){return Ge(e)}))},rt=function(e){var t=e<G.length-1?G.slice(e+1).findIndex((function(e){return Ge(e)})):-1;return t>-1?t+e+1:e},ot=function(e){var t=e>0?O.findLastIndex(G.slice(0,e),(function(e){return Ge(e)})):-1;return t>-1?t:e},it=function(){return G.findIndex((function(e){return Qe(e)}))},ut=function(){var e=it();return e<0?tt():e},at=function(){var e=it();return e<0?nt():e},lt=function(e){be.current=(be.current||"")+e;var t=-1,n=!1;return-1!==(t=-1!==z.index?-1===(t=G.slice(z.index).findIndex((function(e){return qe(e)})))?G.slice(0,z.index).findIndex((function(e){return qe(e)})):t+z.index:G.findIndex((function(e){return qe(e)})))&&(n=!0),-1===t&&-1===z.index&&(t=ut()),-1!==t&&ct(t),ye.current&&clearTimeout(ye),ye.current=setTimeout((function(){be.current="",ye.current=null}),500),n},ct=function(e){z.index!==e&&(Z(U(U({},z),{},{index:e})),st())},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=-1!==e?"".concat(b,"_").concat(e):A,n=I.findSingle(Fe(),'li[id="'.concat(t,'"]'));n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"})},pt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=[];return t&&t.forEach((function(t,u){var a=(""!==o?o+"_":"")+u,l={item:t,index:u,level:n,key:a,parent:r,parentKey:o};l.items=e(t.items,n+1,l,a),i.push(l)})),i},mt=function(){if(!fe.current){fe.current=I.createInlineStyle(m&&m.nonce||t.nonce,m&&m.styleContainer);var e="".concat(oe),n="\n@media screen and (max-width: ".concat(d.breakpoint,") {\n    .p-tieredmenu[").concat(e,"] > ul {\n        max-height: ").concat(d.scrollHeight,";\n        overflow: ").concat(d.scrollHeight?"auto":"",";\n    }\n\n    .p-tieredmenu[").concat(e,"] .p-submenu-list {\n        position: relative;\n    }\n\n    .p-tieredmenu[").concat(e,"] .p-menuitem-active > .p-submenu-list {\n        left: 0;\n        box-shadow: none;\n        border-radius: 0;\n        padding: 0 0 0 calc(var(--inline-spacing) * 2); /* @todo */\n    }\n\n    .p-tieredmenu[").concat(e,"] .p-menuitem-active > .p-menuitem-link > .p-submenu-icon {\n        transform: rotate(-180deg);\n    }\n\n    .p-tieredmenu[").concat(e,'] .p-submenu-icon:before {\n        content: "\\e930";\n    }\n\n    ').concat(d.popup?"":".p-tieredmenu[".concat(e,"] { width: 100%; }"),"\n}\n");fe.current.innerHTML=n}},dt=function(){fe.current=I.removeInlineStyle(fe.current)},ft=function(){d.autoZIndex&&k.set("menu",se.current,m&&m.autoZIndex||t.autoZIndex,d.baseZIndex||m&&m.zIndex.menu||t.zIndex.menu),I.addStyles(se.current,{position:"absolute",top:"0",left:"0"}),I.absolutePosition(se.current,me.current),I.getOuterWidth(me.current)>I.getOuterWidth(se.current)&&(se.current.style.minWidth=I.getOuterWidth(me.current)+"px"),I.focus(pe.current.getElement()),st(),oe&&d.breakpoint&&(se.current.setAttribute(oe,""),mt())},bt=function(){he(),Oe()},yt=function(){me.current=null,xe(),Ee()},vt=function(){k.clear(se.current),dt()};s((function(){var e=w();!b&&h(e),d.breakpoint&&!oe&&ie(e)})),u((function(){var e=pt(d.model||[]);$(e)}),d.model),u((function(){var e=D.find((function(e){return e.key===z.parentKey}));Q(e?e.items:Y)}),[D,z,Y]),u((function(){var e=-1!==z.index?"".concat(b).concat(O.isNotEmpty(z.parentKey)?"_"+z.parentKey:"","_").concat(z.index):null;B(e)}),[z]),u((function(){d.popup||(O.isNotEmpty(D)?(he(),Oe()):(xe(),Ee()))}),[D]),u((function(){if(te){var e=-1!==z.index?rt(z.index):ut();ct(e),K(D.filter((function(e){return e.parentKey!==z.parentKey}))),ne(!1)}}),[te]),u((function(){return oe&&se.current&&(se.current.setAttribute(oe,""),mt()),function(){dt()}}),[oe,d.breakpoint]),p((function(){k.clear(se.current)})),e.useImperativeHandle(o,(function(){return{props:d,toggle:ke,show:Se,hide:Pe,getElement:function(){return se.current}}}));var gt,ht,xt=(gt=x({ref:se,id:d.id,className:le("root"),style:d.style,onClick:we},R.getOtherProps(d),ae("root")),ht=x({classNames:le("transition"),in:S,timeout:{enter:120,exit:100},options:d.transitionOptions,unmountOnExit:!0,onEnter:ft,onEntered:bt,onExit:yt,onExited:vt},ae("transition")),e.createElement(v,j({nodeRef:se},ht),e.createElement("div",gt,e.createElement(W,{id:b+"_list",ref:pe,hostName:"TieredMenu",menuProps:d,tabIndex:0,model:Y,ariaLabel:d.ariaLabel,ariaLabelledBy:d.ariaLabelledBy,ariaOrientation:"vertical",ariaActiveDescendant:C?A:void 0,menuId:b,level:0,focusedItemId:A,activeItemPath:D,onFocus:Ne,onBlur:je,onKeyDown:De,onItemClick:Te,onItemMouseEnter:Ce,root:!0,popup:d.popup,onHide:Pe,isMobileMode:ve,submenuIcon:d.submenuIcon,ptm:ae,cx:le,sx:ce}))));return d.popup?e.createElement(g,{element:xt,appendTo:d.appendTo}):xt})));V.displayName="TieredMenu";var J=o.extend({defaultProps:{__TYPE:"SplitButton",id:null,label:null,icon:null,autoZIndex:!1,baseZIndex:0,loading:!1,loadingIcon:null,model:null,disabled:null,style:null,className:null,buttonClassName:null,menuStyle:null,menuClassName:null,menuButtonClassName:null,buttonProps:null,menuButtonProps:null,tabIndex:null,severity:null,rounded:!1,raised:!1,outlined:!1,text:!1,size:null,appendTo:null,tooltip:null,tooltipOptions:null,buttonTemplate:null,transitionOptions:null,dropdownIcon:null,onClick:null,onShow:null,onHide:null,children:void 0},css:{classes:{icon:"p-button-icon p-c",root:function(e){var t=e.props,n=e.size;return h("p-splitbutton p-component",C(C(C(C(C(C({"p-disabled":t.disabled,"p-button-loading-label-only":t.loading&&!t.icon&&t.label},"p-button-".concat(t.severity),t.severity),"p-button-raised",t.raised),"p-button-rounded",t.rounded),"p-button-text",t.text),"p-button-outlined",t.outlined),"p-button-".concat(n),n))},button:"p-splitbutton-defaultbutton",menuButton:"p-splitbutton-menubutton",menu:function(e){return h("p-menu p-menu-overlay p-component",e.subProps.menuClassName)},menuList:"p-menu-list p-reset",separator:"p-menu-separator",menuIcon:"p-menuitem-icon",menuLabel:"p-menuitem-text",anchor:function(e){return h("p-menuitem-link",e._className,{"p-disabled":e.disabled})},menuItem:"p-menuitem",transition:"p-connected-overlay"},styles:"\n@layer primereact {\n    .p-splitbutton {\n        display: inline-flex;\n        position: relative;\n    }\n\n    .p-splitbutton .p-splitbutton-defaultbutton,\n    .p-splitbutton.p-button-rounded > .p-splitbutton-defaultbutton.p-button,\n    .p-splitbutton.p-button-outlined > .p-splitbutton-defaultbutton.p-button,\n    .p-splitbutton.p-button-outlined > .p-splitbutton-defaultbutton.p-button-outlined.p-button:hover {\n        flex: 1 1 auto;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n        border-right: 0 none;\n    }\n\n    .p-splitbutton-menubutton,\n    .p-splitbutton.p-button-rounded > .p-splitbutton-menubutton.p-button,\n    .p-splitbutton.p-button-outlined > .p-splitbutton-menubutton.p-button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n    }\n\n    .p-splitbutton .p-menu {\n        min-width: 100%;\n    }\n\n    .p-fluid .p-splitbutton  {\n        display: flex;\n    }\n}\n"}});function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=e.memo(e.forwardRef((function(o,u){var a=e.useContext(n),l=J.getProps(o,a),c=H(e.useState(l.id),2),v=c[0],g=c[1],S=H(e.useState(!1),2),P=S[0],D=S[1],K=e.useRef(null),T=e.useRef(null),C=e.useRef(null),M=e.useRef(null),_=m("split-button-tooltip",P),A={props:l,state:{id:v,overlayVisible:P}},B=J.setMetaData(A),L=B.ptm,R=B.cx;i(J.css.styles,B.isUnstyled,{name:"splitbutton"}),d({callback:function(){W()},when:P,priority:[f.SPLIT_BUTTON,_]});var z=function(e){P?W(e):Z(e)},Z=function(e){D(!0),T.current&&T.current.show(e)},W=function(e){D(!1),T.current&&T.current.hide(e)};if(s((function(){v||g(w()),I.alignOverlay(M.current,C.current.parentElement,l.appendTo||a&&a.appendTo||t.appendTo)})),p((function(){k.clear(M.current)})),e.useImperativeHandle(u,(function(){return{props:l,show:Z,hide:W,getElement:function(){return K.current}}})),!1===l.visible)return null;var F=O.isNotEmpty(l.tooltip),U={large:"lg",small:"sm"}[l.size],X=l.buttonTemplate?O.getJSXElement(l.buttonTemplate,l):null,$=v+"_overlay",q=x({ref:K,id:v,className:h(l.className,R("root",{size:U})),style:l.style},J.getOtherProps(l),L("root"));return e.createElement(e.Fragment,null,e.createElement("div",q,e.createElement(r,j({ref:C,type:"button",className:h(l.buttonClassName,R("button")),icon:l.icon,loading:l.loading,loadingIcon:l.loadingIcon,severity:l.severity,label:l.label,"aria-label":l.label,raised:l.raised,onClick:l.onClick,disabled:l.disabled,tabIndex:l.tabIndex,size:l.size,outlined:l.outlined,text:l.text},l.buttonProps,{pt:L("button"),__parentMetadata:{parent:A},unstyled:l.unstyled}),X),e.createElement(r,j({type:"button",className:h(l.menuButtonClassName,R("menuButton")),icon:function(){var t=x({className:R("icon")},L("icon")),n=E.getJSXIcon(l.dropdownIcon||e.createElement(b,t),Y({},t),{props:l});return n},onClick:z,disabled:l.disabled,"aria-expanded":P,"aria-haspopup":"true","aria-controls":$},l.menuButtonProps,{size:l.size,severity:l.severity,outlined:l.outlined,text:l.text,raised:l.raised,pt:L("menuButton"),__parentMetadata:{parent:A},onKeyDown:function(e){"ArrowDown"!==e.code&&"ArrowUp"!==e.code||(z(e),e.preventDefault())},unstyled:l.unstyled})),e.createElement(V,{ref:T,popup:!0,unstyled:l.unstyled,model:l.model,appendTo:l.appendTo,id:$,style:l.menuStyle,autoZIndex:l.autoZIndex,baseZIndex:l.baseZIndex,className:l.menuClassName,onClick:function(e){y.emit("overlay-click",{originalEvent:e,target:K.current})},onShow:function(){l.onShow&&l.onShow()},onHide:function(){D(!1),l.onHide&&l.onHide()},pt:L("menu")})),F&&e.createElement(N,j({target:K,content:l.tooltip},l.tooltipOptions,{pt:L("tooltip")})))})));$.displayName="SplitButton";export{$ as SplitButton};
