import*as t from"react";import{PrimeReactContext as e}from"primereact/api";import{ComponentBase as r,useHandleStyle as n}from"primereact/componentbase";import{KeyFilter as o}from"primereact/keyfilter";import{Tooltip as i}from"primereact/tooltip";import{classNames as l,ObjectUtils as a,mergeProps as p,DomHandler as u}from"primereact/utils";function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s.apply(this,arguments)}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function c(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function y(t){var e=c(t,"string");return"symbol"===f(e)?e:String(e)}var m=r.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1},css:{classes:{root:function(t){var e=t.props;return l("p-inputtext p-component",{"p-disabled":e.disabled,"p-filled":t.isFilled},e.className)}}}});function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){var n,o,i;n=t,i=r[e],(o=y(o=e))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v=t.memo(t.forwardRef((function(r,f){var c=t.useContext(e),y=m.getProps(r,c),b=m.setMetaData(d(d({props:y},y.__parentMetadata),{},{context:{disabled:y.disabled}})),v=b.ptm,O=b.cx;n(m.css.styles,b.isUnstyled,{name:"inputtext",styled:!0});var P=t.useRef(f);t.useEffect((function(){a.combinedRefs(P,f)}),[P,f]);var g=t.useMemo((function(){return a.isNotEmpty(y.value)||a.isNotEmpty(y.defaultValue)}),[y.value,y.defaultValue]),j=a.isNotEmpty(y.tooltip),w=p({className:l(y.className,O("root",{isFilled:g})),onBeforeInput:function(t){y.onBeforeInput&&y.onBeforeInput(t),y.keyfilter&&o.onBeforeInput(t,y.keyfilter,y.validateOnly)},onInput:function(t){var e=t.target,r=!0;y.keyfilter&&y.validateOnly&&(r=o.validate(t,y.keyfilter)),y.onInput&&y.onInput(t,r),a.isNotEmpty(e.value)?u.addClass(e,"p-filled"):u.removeClass(e,"p-filled")},onKeyDown:function(t){y.onKeyDown&&y.onKeyDown(t),y.keyfilter&&o.onKeyPress(t,y.keyfilter,y.validateOnly)},onPaste:function(t){y.onPaste&&y.onPaste(t),y.keyfilter&&o.onPaste(t,y.keyfilter,y.validateOnly)}},m.getOtherProps(y),v("root"));return t.createElement(t.Fragment,null,t.createElement("input",s({ref:P},w)),j&&t.createElement(i,s({target:P,content:y.tooltip},y.tooltipOptions,{pt:v("tooltip")})))})));v.displayName="InputText";export{v as InputText};
